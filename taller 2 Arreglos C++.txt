#include <iostream>
#include <iomanip>
#include <string>
#include <limits>
using namespace std;

int main() {
    // ---------------- EJERCICIO #1 ----------------
    cout << "Ejercicio #1:\n";
    int numero[5] = {1, 2, 3, 4, 5};
    for (int i = 0; i < 5; i++) cout << numero[i] << " ";
    cout << "\n";
    int mediana = numero[5 / 2];
    cout << "La mediana del array es: " << mediana << "\n\n";

    // ---------------- EJERCICIO #2 ----------------
    cout << "Ejercicio #2:\n";
    int Buscar;
    cout << "   Ingresa un número para buscar en el array: ";
    cin >> Buscar;
    int iniciar = 0, final = 4, medio;
    bool elementoEncontrado = false;
    int posicion = -1;
    while (iniciar <= final) {
        medio = (iniciar + final) / 2;
        if (numero[medio] == Buscar) {
            elementoEncontrado = true;
            posicion = medio;
            break;
        } else if (Buscar < numero[medio]) {
            final = medio - 1;
        } else {
            iniciar = medio + 1;
        }
    }
    if (elementoEncontrado)
        cout << "   El elemento " << Buscar << " se encontró en la posición " << posicion << "\n\n";
    else
        cout << "   El elemento " << Buscar << " no se encontró en el array\n\n";

    // ---------------- EJERCICIO #3 ----------------
    cout << "Ejercicio #3:\n";
    int matriz[3][4] = {
        {1, 2, 3, 4},
        {5, 6, 7, 8},
        {9, 10, 11, 12}};
    cout << "Matriz 3x4:\n";
    for (int i = 0; i < 3; i++) {
        for (int j = 0; j < 4; j++) cout << matriz[i][j] << "   ";
        cout << "\n";
    }
    cout << "Transpuesta de la Matriz:\n";
    for (int i = 0; i < 4; i++) {
        for (int j = 0; j < 3; j++) cout << matriz[j][i] << "   ";
        cout << "\n";
    }
    cout << "\n";

    // ---------------- EJERCICIO #4 (Inventario SIN void) ----------------
    cout << "Ejercicio #4 (Inventario con menú):\n";
    const int ProductoMx = 100;
    string nombres[ProductoMx];
    int cantidades[ProductoMx];
    float precios[ProductoMx];
    int totalProductos = 0;

    int opcion;
    do {
        cout << "\n--- Menú Inventario ---\n";
        cout << "1. Agregar producto\n";
        cout << "2. Mostrar inventario\n";
        cout << "3. Buscar producto\n";
        cout << "4. Salir\n";
        cout << "Seleccione una opción: ";
        cin >> opcion;

        if (opcion == 1) {
            if (totalProductos >= ProductoMx) {
                cout << "No se pueden agregar más productos.\n";
            } else {
                cin.ignore(numeric_limits<streamsize>::max(), '\n');
                cout << "Ingrese el nombre del producto: ";
                getline(cin, nombres[totalProductos]);
                cout << "Ingrese la cantidad: ";
                cin >> cantidades[totalProductos];
                cout << "Ingrese el precio: ";
                cin >> precios[totalProductos];
                totalProductos++;
                cout << "Producto agregado exitosamente.\n";
            }
        } else if (opcion == 2) {
            if (totalProductos == 0) {
                cout << "El inventario está vacío.\n";
            } else {
                cout << "\n--- Inventario ---\n";
                for (int i = 0; i < totalProductos; i++) {
                    cout << i + 1 << ". " << nombres[i]
                         << " | Cantidad: " << cantidades[i]
                         << " | Precio: $" << precios[i] << "\n";
                }
            }
        } else if (opcion == 3) {
            if (totalProductos == 0) {
                cout << "El inventario está vacío.\n";
            } else {
                cin.ignore(numeric_limits<streamsize>::max(), '\n');
                string nombreBuscado;
                cout << "Ingrese el nombre del producto a buscar: ";
                getline(cin, nombreBuscado);
                bool encontrado = false;
                for (int i = 0; i < totalProductos; i++) {
                    if (nombres[i] == nombreBuscado) {
                        cout << "Producto encontrado:\n";
                        cout << nombres[i]
                             << " | Cantidad: " << cantidades[i]
                             << " | Precio: $" << precios[i] << "\n";
                        encontrado = true;
                        break;
                    }
                }
                if (!encontrado) cout << "Producto no encontrado.\n";
            }
        } else if (opcion == 4) {
            cout << "Saliendo del inventario...\n";
        } else {
            cout << "Opción inválida.\n";
        }
    } while (opcion != 4);

    // ---------------- EJERCICIO #5 ----------------
    cout << "\nEjercicio #5 (Ordenamiento por selección):\n";
    int numeros[] = {2, 5, 9, 7, 0, 4, 3, 8, 1, 10};
    for (int i = 0; i < 10; i++) {
        int min = i;
        for (int j = i + 1; j < 10; j++) {
            if (numeros[j] < numeros[min]) min = j;
        }
        int aux = numeros[i];
        numeros[i] = numeros[min];
        numeros[min] = aux;
    }
    cout << "Orden Ascendente: ";
    for (int i = 0; i < 10; i++) cout << numeros[i] << " ";
    cout << "\n\n";

    // ---------------- EJERCICIO #6 ----------------
    cout << "Ejercicio #6:\n";
    int arr[] = {4, 7, 4, 0, 6, 7, 2, 3, 5, 1};
    int n = sizeof(arr) / sizeof(arr[0]);
    cout << "Elementos duplicados:\n";
    for (int i = 0; i < n; i++) {
        for (int j = i + 1; j < n; j++) {
            if (arr[i] == arr[j]) {
                cout << arr[i] << " ";
                break;
            }
        }
    }
    cout << "\n\n";

    // ---------------- EJERCICIO #7 (Tres en raya) ----------------
    cout << "Ejercicio #7 (Juego de Tres en Raya):\n";
    char tablero[3][3] = {
        {' ', ' ', ' '},
        {' ', ' ', ' '},
        {' ', ' ', ' '}
    };
    int fila, col;
    char jugador = 'X';
    bool ganador = false;
    int movimientos = 0;

    while (!ganador && movimientos < 9) {
        cout << "\nTablero actual:\n";
        for (int i = 0; i < 3; i++) {
            cout << " ";
            for (int j = 0; j < 3; j++) {
                cout << tablero[i][j];
                if (j < 2) cout << " | ";
            }
            cout << "\n";
            if (i < 2) cout << "---+---+---\n";
        }

        cout << "\nTurno del jugador " << jugador << ".\n";
        cout << "Ingrese fila (0-2): ";
        cin >> fila;
        cout << "Ingrese columna (0-2): ";
        cin >> col;

        if (fila < 0 || fila > 2 || col < 0 || col > 2 || tablero[fila][col] != ' ') {
            cout << "Movimiento inválido, intente de nuevo.\n";
            continue;
        }

        tablero[fila][col] = jugador;
        movimientos++;

        for (int i = 0; i < 3; i++) {
            if (tablero[i][0] == jugador && tablero[i][1] == jugador && tablero[i][2] == jugador) ganador = true;
            if (tablero[0][i] == jugador && tablero[1][i] == jugador && tablero[2][i] == jugador) ganador = true;
        }
        if (tablero[0][0] == jugador && tablero[1][1] == jugador && tablero[2][2] == jugador) ganador = true;
        if (tablero[0][2] == jugador && tablero[1][1] == jugador && tablero[2][0] == jugador) ganador = true;

        if (ganador) {
            cout << "\n¡Jugador " << jugador << " ha ganado!\n";
            break;
        }

        jugador = (jugador == 'X') ? 'O' : 'X';
    }

    if (!ganador) cout << "\n¡Empate! No hay más movimientos.\n";

    cout << "\nTablero final:\n";
    for (int i = 0; i < 3; i++) {
        cout << " ";
        for (int j = 0; j < 3; j++) {
            cout << tablero[i][j];
            if (j < 2) cout << " | ";
        }
        cout << "\n";
        if (i < 2) cout << "---+---+---\n";
    }

    return 0;
}
